(this.webpackJsonppages=this.webpackJsonppages||[]).push([[44,74],{134:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n(14),o=n(0),c=n.n(o),i=n(174),u=(n(169),n(34)),s=n(55),l=n.n(s);n(160);t.default=function(){var e=function(e,t){Object(i.n)(e).append("g").attrs({class:"legend"}).styles({transform:function(){var t=Object(i.j)(e),n=Object(a.a)(t,2),r=n[0],o=n[1];return"translate(".concat(r,"px, ").concat(o,"px)")}}).call((function(e){[{format:function(e){return e},key:"name"},{format:function(e){return e},key:"economy"},{format:function(e){return e},key:"income_grp"},{format:function(e){return"Pop : "+(e/1e6).toFixed(2)+" M"},key:"pop_est"},{format:function(e){return"GDP : $"+(e/1e3).toFixed(2)+" B"},key:"gdp_md_est"},{format:function(e){return"GDPpc : $"+e.toFixed(2)},key:"gdppc"}].map((function(n,r){var a=function(){return e.append("text").text(n.format(t.properties[n.key])).attrs({"pointer-events":"none",x:8,y:16*r+16})};return a().attrs({stroke:"white","stroke-width":2}),a(),null}))}))},t=function(e,t){return Object(i.l)().domain([0,e]).range(t)},n={handleDevLevel:function(e){return t(7,["blue","#eee"])(e.properties.economy[0])},handleGDP:function(e){return t(f.current,["#eed","gold"])(e.properties.gdp_md_est)},handleGDPpc:function(e){return t(d.current,["#efe","green"])(e.properties.gdppc)},handleIncomeGroup:function(e){return t(5,["orange","#eed"])(e.properties.income_grp[0])},handlePop:function(e){return t(m.current,["#fee","red"])(e.properties.pop_est)},handleVisited:function(e){return"New Zealand"===e.properties.name?"none":u.includes(e.properties.name)?"violet":"#eee"}},u=["Belgium","Cambodia","Czech Rep.","Cook Islands","Denmark","France","Fiji","Germany","India","Ireland","Italy","Iceland","Lao PDR","Myanmar","Nepal","Netherlands","New Zealand","Norway","Samoa","Singapore","Spain","Sweden","Thailand","United Kingdom","Vietnam"],s=Object(o.useRef)(),f=Object(o.useRef)(),d=Object(o.useRef)(),m=Object(o.useRef)(),h=Object(o.useRef)(),v=Object(o.useState)(),b=Object(a.a)(v,2),j=b[0],y=b[1],O=Object(o.useState)({strategy:"handleVisited"}),g=Object(a.a)(O,2),k=g[0],_=g[1];return Object(o.useEffect)((function(){fetch("/Projects/custom.geo.json").then((function(e){return e.json()})).then((function(e){y(e),f.current=Object(i.h)(e.features,(function(e){return e.properties.gdp_md_est})),d.current=Object(i.h)(e.features,(function(e){return e.properties.gdppc=e.properties.gdp_md_est<0?0:1e6*e.properties.gdp_md_est/e.properties.pop_est})),m.current=Object(i.h)(e.features,(function(e){return e.properties.pop_est}))}),console.warn)}),[]),Object(o.useEffect)((function(){l.a.FormSelect.init(h.current,{})}),[]),c.a.createElement("section",{className:"accent-bottom panel",id:"WorldMap"},c.a.createElement("h2",null,"World Map"),c.a.createElement(p,{data:j,handler:function(t,o,c,u,l){var p=Object(i.n)(o),f=Object(i.e)().fitSize([l-10,u],c.feature||t).precision(10),d=Object(i.f)().projection(f);return p.selectAll(".country").data(t.features).join("path").attrs({class:"country"}).on("click",(function(e){_((function(t){return Object(r.a)(Object(r.a)({},t),{},{feature:e===t.feature?null:e})})),s.current="click",Object(i.n)(this).attrs({id:"selected"})})).on("mousemove",(function(t){s.current="hover",p.selectAll(".legend").remove(),p.selectAll(".legend").data([!0]).join((function(){return e(o,t)})).styles({transform:function(){var e=Object(i.j)(o),t=Object(a.a)(e,2),n=t[0],r=t[1];return"translate(".concat(n,"px, ").concat(r,"px)")}})})).on("mouseleave",(function(){var e=function(){p.selectAll(".legend").remove(),p.selectAll("#selected").attr("id",null)};"click"===s.current&&c.feature?setTimeout(e,4e3):e()})).transition().duration(1e3).attrs({d:d,fill:n[c.strategy]}),function(){return p.interrupt()}},selector:k}),c.a.createElement("div",{className:"input-field"},c.a.createElement("select",{className:"browser-default btn center-content",onChange:function(e){var t=e.target.value;_((function(e){return Object(r.a)(Object(r.a)({},e),{},{strategy:t})}))},ref:h},c.a.createElement("option",{value:"handleVisited"},"countries visited"),c.a.createElement("option",{value:"handlePop"},"estimated population"),c.a.createElement("option",{value:"handleGDP"},"estimated GDP"),c.a.createElement("option",{value:"handleGDPpc"},"estimated GDP per capita"),c.a.createElement("option",{value:"handleDevLevel"},"development level"),c.a.createElement("option",{value:"handleIncomeGroup"},"income group"))))};var p=function(e){var t=e.data,n=e.handler,r=e.selector,a=Object(o.useRef)(null),i=Object(u.default)(a.current),s=i.height,l=i.width;return Object(o.useEffect)((function(){if(n&&t&&s&&l)return n(t,a.current,r,s,l)}),[t,n,r,s,l]),c.a.createElement("svg",{ref:a,style:{height:480,marginTop:20}})}},160:function(e,t,n){},169:function(e,t,n){"use strict";var r=n(219),a=n(166),o=n(242);function c(e,t){return e.each((function(){var e=t.apply(this,arguments),n=Object(o.a)(this);for(var r in e)n.attr(r,e[r])}))}function i(e,t){for(var n in t)e.attr(n,t[n]);return e}function u(e,t,n){return e.each((function(){var e=t.apply(this,arguments),r=Object(o.a)(this);for(var a in e)r.style(a,e[a],n)}))}function s(e,t,n){for(var r in t)e.style(r,t[r],n);return e}function l(e,t){return e.each((function(){var e=t.apply(this,arguments),n=Object(o.a)(this);for(var r in e)n.property(r,e[r])}))}function p(e,t){for(var n in t)e.property(n,t[n]);return e}function f(e,t){return e.each((function(){var n=t.apply(this,arguments),r=Object(o.a)(this).transition(e);for(var a in n)r.attr(a,n[a])}))}function d(e,t){for(var n in t)e.attr(n,t[n]);return e}function m(e,t,n){return e.each((function(){var r=t.apply(this,arguments),a=Object(o.a)(this).transition(e);for(var c in r)a.style(c,r[c],n)}))}function h(e,t,n){for(var r in t)e.style(r,t[r],n);return e}r.b.prototype.attrs=function(e){return("function"===typeof e?c:i)(this,e)},r.b.prototype.styles=function(e,t){return("function"===typeof e?u:s)(this,e,null==t?"":t)},r.b.prototype.properties=function(e){return("function"===typeof e?l:p)(this,e)},a.b.prototype.attrs=function(e){return("function"===typeof e?f:d)(this,e)},a.b.prototype.styles=function(e,t){return("function"===typeof e?m:h)(this,e,null==t?"":t)}}}]);
//# sourceMappingURL=44.6d8491d6.chunk.js.map