(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[46,81],{151:function(e,t,n){"use strict";n.r(t);var r=n(32),o=n(7),a=n(0),c=n.n(a),i=n(196),u=(n(192),n(40)),s=n(31),l=n.n(s);n(182);t.default=function(){var e=function(e,t){Object(i.t)(e).append("g").attrs({class:"legend"}).styles({transform:function(){var t=Object(i.p)(e),n=Object(o.a)(t,2),r=n[0],a=n[1];return"translate(".concat(r,"px, ").concat(a,"px)")}}).call((function(e){[{format:function(e){return e},key:"name"},{format:function(e){return e},key:"economy"},{format:function(e){return e},key:"income_grp"},{format:function(e){return"Pop : "+(e/1e6).toFixed(2)+" M"},key:"pop_est"},{format:function(e){return"GDP : $"+(e/1e3).toFixed(2)+" B"},key:"gdp_md_est"},{format:function(e){return"GDPpc : $"+e.toFixed(2)},key:"gdppc"}].map((function(n,r){var o=function(){return e.append("text").text(n.format(t.properties[n.key])).attrs({"pointer-events":"none",x:8,y:16*r+16})};return o().attrs({stroke:"white","stroke-width":2}),o(),null}))}))},t=function(e,t){return Object(i.r)().domain([0,e]).range(t)},n={handleDevLevel:function(e){return t(7,["blue","#eee"])(e.properties.economy[0])},handleGDP:function(e){return t(f.current,["#eed","gold"])(e.properties.gdp_md_est)},handleGDPpc:function(e){return t(d.current,["#efe","green"])(e.properties.gdppc)},handleIncomeGroup:function(e){return t(5,["orange","#eed"])(e.properties.income_grp[0])},handlePop:function(e){return t(m.current,["#fee","red"])(e.properties.pop_est)},handleVisited:function(e){return"New Zealand"===e.properties.name?"none":u.includes(e.properties.name)?"violet":"#eee"}},u=["Belgium","Cambodia","Czech Rep.","Cook Islands","Denmark","France","Fiji","Germany","India","Ireland","Italy","Iceland","Lao PDR","Myanmar","Nepal","Netherlands","New Zealand","Norway","Samoa","Singapore","Spain","Sweden","Thailand","United Kingdom","Vietnam"],s=Object(a.useRef)(),f=Object(a.useRef)(),d=Object(a.useRef)(),m=Object(a.useRef)(),h=Object(a.useRef)(),v=Object(a.useState)(),b=Object(o.a)(v,2),y=b[0],j=b[1],O=Object(a.useState)({strategy:"handleVisited"}),g=Object(o.a)(O,2),w=g[0],k=g[1];return Object(a.useEffect)((function(){fetch("/Projects/custom.geo.json").then((function(e){return e.json()})).then((function(e){j(e),f.current=Object(i.n)(e.features,(function(e){return e.properties.gdp_md_est})),d.current=Object(i.n)(e.features,(function(e){return e.properties.gdppc=e.properties.gdp_md_est<0?0:1e6*e.properties.gdp_md_est/e.properties.pop_est})),m.current=Object(i.n)(e.features,(function(e){return e.properties.pop_est}))}),console.warn)}),[]),Object(a.useEffect)((function(){l.a.FormSelect.init(h.current,{})}),[]),c.a.createElement("section",{className:"accent-bottom panel",id:"WorldMap"},c.a.createElement("h2",null,"World Map"),c.a.createElement(p,{data:y,handler:function(t,a,c,u,l){var p=Object(i.t)(a),f=Object(i.i)().fitSize([l-10,u],c.feature||t).precision(10),d=Object(i.j)().projection(f);return p.selectAll(".country").data(t.features).join("path").attrs({class:"country"}).on("click",(function(e){k((function(t){return Object(r.a)(Object(r.a)({},t),{},{feature:e===t.feature?null:e})})),s.current="click",Object(i.t)(this).attrs({id:"selected"})})).on("mousemove",(function(t){s.current="hover",p.selectAll(".legend").remove(),p.selectAll(".legend").data([!0]).join((function(){return e(a,t)})).styles({transform:function(){var e=Object(i.p)(a),t=Object(o.a)(e,2),n=t[0],r=t[1];return"translate(".concat(n,"px, ").concat(r,"px)")}})})).on("mouseleave",(function(){var e=function(){p.selectAll(".legend").remove(),p.selectAll("#selected").attr("id",null)};"click"===s.current&&c.feature?setTimeout(e,4e3):e()})).transition().duration(1e3).attrs({d:d,fill:n[c.strategy]}),function(){return p.interrupt()}},selector:w}),c.a.createElement("div",{className:"input-field"},c.a.createElement("select",{className:"browser-default btn center-content",onChange:function(e){var t=e.target.value;k((function(e){return Object(r.a)(Object(r.a)({},e),{},{strategy:t})}))},ref:h},c.a.createElement("option",{value:"handleVisited"},"countries visited"),c.a.createElement("option",{value:"handlePop"},"estimated population"),c.a.createElement("option",{value:"handleGDP"},"estimated GDP"),c.a.createElement("option",{value:"handleGDPpc"},"estimated GDP per capita"),c.a.createElement("option",{value:"handleDevLevel"},"development level"),c.a.createElement("option",{value:"handleIncomeGroup"},"income group"))))};var p=function(e){var t=e.data,n=e.handler,r=e.selector,o=Object(a.useRef)(null),i=Object(u.default)(o.current),s=i.height,l=i.width;return Object(a.useEffect)((function(){if(n&&t&&s&&l)return n(t,o.current,r,s,l)}),[t,n,r,s,l]),c.a.createElement("svg",{ref:o,style:{height:480,marginTop:20}})}},182:function(e,t,n){},192:function(e,t,n){"use strict";var r=n(241),o=n(191),a=n(263);function c(e,t){return e.each((function(){var e=t.apply(this,arguments),n=Object(a.a)(this);for(var r in e)n.attr(r,e[r])}))}function i(e,t){for(var n in t)e.attr(n,t[n]);return e}function u(e,t,n){return e.each((function(){var e=t.apply(this,arguments),r=Object(a.a)(this);for(var o in e)r.style(o,e[o],n)}))}function s(e,t,n){for(var r in t)e.style(r,t[r],n);return e}function l(e,t){return e.each((function(){var e=t.apply(this,arguments),n=Object(a.a)(this);for(var r in e)n.property(r,e[r])}))}function p(e,t){for(var n in t)e.property(n,t[n]);return e}function f(e,t){return e.each((function(){var n=t.apply(this,arguments),r=Object(a.a)(this).transition(e);for(var o in n)r.attr(o,n[o])}))}function d(e,t){for(var n in t)e.attr(n,t[n]);return e}function m(e,t,n){return e.each((function(){var r=t.apply(this,arguments),o=Object(a.a)(this).transition(e);for(var c in r)o.style(c,r[c],n)}))}function h(e,t,n){for(var r in t)e.style(r,t[r],n);return e}r.b.prototype.attrs=function(e){return("function"===typeof e?c:i)(this,e)},r.b.prototype.styles=function(e,t){return("function"===typeof e?u:s)(this,e,null==t?"":t)},r.b.prototype.properties=function(e){return("function"===typeof e?l:p)(this,e)},o.b.prototype.attrs=function(e){return("function"===typeof e?f:d)(this,e)},o.b.prototype.styles=function(e,t){return("function"===typeof e?m:h)(this,e,null==t?"":t)}}}]);
//# sourceMappingURL=46.20385771.chunk.js.map