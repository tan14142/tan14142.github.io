{"version":3,"sources":["Projects/Sitemap.tsx","../node_modules/d3-selection-multi/src/selection/attrs.js","../node_modules/d3-selection-multi/src/selection/styles.js","../node_modules/d3-selection-multi/src/selection/properties.js","../node_modules/d3-selection-multi/src/transition/attrs.js","../node_modules/d3-selection-multi/src/transition/styles.js","../node_modules/d3-selection-multi/index.js"],"names":["Sitemap","svgRef","useRef","useEffect","simulation","counter","svg","select","current","width","clientWidth","root","hierarchy","map","linkGen","linkVertical","x","node","y","tree","size","attrs","height","selectAll","data","links","join","class","d","fill","stroke","length","this","getTotalLength","transition","duration","delay","link","source","depth","on","descendants","cx","cy","opacity","r","enter","append","text","name","insert","remove","setTimeout","forceSimulation","alphaTarget","force","forceX","strength","forceY","forceCollide","undefined","mouse","c","x1","x2","y1","y2","alpha","restart","interrupt","className","ref","style","borderRight","borderTop","marginBottom","overflow","children","attrsFunction","selection","each","apply","arguments","s","attr","attrsObject","stylesFunction","priority","stylesObject","propertiesFunction","property","propertiesObject","t","prototype","styles","properties"],"mappings":"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","file":"static/js/53.a71a5894.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport {\n  forceCollide,\n  forceSimulation,\n  forceX,\n  forceY,\n  hierarchy,\n  linkVertical,\n  mouse,\n  select,\n  tree\n} from \"d3\";\nimport \"d3-selection-multi\";\n\nconst Sitemap = () => {\n\n  const svgRef = useRef();\n  \n  useEffect(() => {\n    \n    const svg = select(svgRef.current),\n          delay = 500,\n          height = 500,\n          width = svgRef.current.clientWidth,\n          root = hierarchy(map),\n          linkGen = linkVertical()\n            .x(node => node.x)\n            .y(node => node.y);\n    \n    let simulation, counter;\n    \n    tree().size([width, height])(root);\n    svg.attrs({ height : height });\n    \n    svg\n      .selectAll(\".link\")\n      .data(root.links())\n      .join(\"path\")\n      .attrs({\n        class : \"link\",\n        d : linkGen,\n        fill : \"none\",\n        stroke : \"black\",\n        \"stroke-dasharray\" : function() {\n          const length = this.getTotalLength();\n          return length + \" \" + length;\n        },\n        \"stroke-dashoffset\" : function() {\n          const length = this.getTotalLength();\n          return length;\n        }\n      })\n      .transition()\n      .duration(delay)\n      .delay(link => link.source.depth * delay)\n      .attrs({\n        \"stroke-dashoffset\" : 0\n      })\n      .on(\"end\", function() {\n        select(this).attrs({ \"stroke-dasharray\" : 0 })\n      });\n    \n    svg\n      .selectAll(\".node\")\n      .data(root.descendants())\n      .join(\"circle\")\n      .attrs({\n        class : \"node\",\n        cx : node => node.x,\n        cy : node => node.y,\n        opacity : 0,\n        r : 8,\n        stroke : \"black\"\n      })\n      .on(\"mouseover\", function(node) {\n        \n        select(this)\n          .attrs({\n            fill : \"white\"\n          });\n        \n        svg\n          .selectAll(\".tooltip\")\n          .data([node])\n          .join(enter => {[\n            \n            enter\n              .append(\"text\")\n              .text(node.data.name)\n              .attrs({\n                class : \"tooltip\",\n                stroke : \"white\",\n                \"stroke-width\" : 4\n              })\n            ,\n            enter\n              .insert(\"text\")\n              .text(node.data.name)\n              .attrs({\n                class : \"tooltip\"\n              })\n            \n          ].map(text => text\n            .attrs({\n              \"font-size\" : 12,\n              \"pointer-events\" : \"none\",\n              \"text-anchor\" : \"middle\",\n              x : node => node.x,\n              y : node => node.y - 8\n            })\n            .transition()\n            .attrs({\n              y : node => node.y - 16\n            })\n          )});\n      })\n      .on(\"mouseleave\", function(node) {\n        \n        select(this)\n          .attrs({ fill : \"black\" })\n\n        svg\n          .selectAll(\".tooltip\")\n          .remove()\n      })\n      .transition()\n      .delay(node => node.depth * delay)\n      .attrs({\n        opacity : 1\n      })\n      .on(\"end\", () => setTimeout(() => simulation = forceSimulation(root.descendants())\n        .alphaTarget(.01)\n        .force(\"xFix\", forceX(node => node.x).strength(.3))\n        .force(\"yFix\", forceY(node => node.y).strength(.3))\n        .force(\"collide\", forceCollide(16))\n        .on(\"tick\", () => {\n          if(counter !== undefined) {\n            svg\n              .selectAll(\".link\")\n              .data(root.links())\n              .join(\"path\")\n              .attrs({\n                d : linkGen\n              });\n  \n            svg\n              .selectAll(\".node\")\n              .data(root.descendants())\n              .join(\"circle\")\n              .attrs({\n                cx : node => node.x,\n                cy : node => node.y\n              });\n          }\n        }),\n        2000\n      ));\n      \n      svg.on(\"mousemove\", () => {\n        const [x, y] = mouse(svgRef.current);\n        if (simulation && counter !== undefined) {\n          if (counter > 0) {\n            simulation\n            .force(\"x\", forceX(x).strength(node => node.depth * .5 + .1))\n            .force(\"y\", forceY(y).strength(node => node.depth * .5 + .1));\n          }\n          else {\n            counter = (NaN || undefined) ? 1 : counter + 1;\n          }\n        }\n      });\n    \n    svg.on(\"click\", () => {\n      const [x, y] = mouse(svgRef.current),\n            c = (x1, x2, y1, y2) => (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n      \n      if (simulation) {\n        counter = -10;\n        simulation\n        .alpha(.5)\n        .restart()\n        .force(\"x\", forceX(x).strength(node => -1 / c(x, node.x, y, node.y)))\n        .force(\"y\", forceY(y).strength(node => -1 / c(x, node.x, y, node.y)));\n      }\n    });\n\n    return () => svg.interrupt();\n  }, [])\n\n  return (\n    <section className=\"accent-bottom center-content panel\">\n      <h2>Sitemap Tree Chart</h2>\n      <svg\n      className=\"width100\"\n      ref={svgRef}\n      style={{\n        borderRight: \"2rem solid transparent\",\n        borderTop: \"2rem solid transparent\",\n        marginBottom: \"3rem\",\n        overflow : \"visible\"\n      }}>\n      </svg>\n    </section>\n  );\n};\n\nexport default Sitemap;\n\nconst map = {\n  name : \"Index\",\n  children : [\n    { name : \"Router\",\n        children : [\n        { name : \"Auth\",\n            children : [\n            { name : \"onchange\" },\n            { name : \"signin\" },\n            { name : \"signout\" }\n          ]\n        },\n        { name : \"Nav\",\n            children : [\n            { name : \"Breadcrumb\" },\n            { name : \"Menu\" }\n          ]\n        },\n        { name : \"Switch\",\n            children : [\n            { name : \"News\" },\n            { name : \"Projects\",\n                children : [\n                { name : \"TicTacToe\" },\n                { name : \"DataGenerator\" },\n                { name : \"TravelAgency\" },\n                { name : \"Slideshow\" },\n                { name : \"ReactD3\" },\n                { name : \"BreakingBadAPI\" },\n                { name : \"WorldPopulation\" },\n                { name : \"Sitemap\" }\n              ]\n            },\n            { name : \"401\" },\n            { name : \"404\" },\n            { name : \"AuthRoutes\" },\n            { name : \"Redirect\" }\n          ]\n        }\n      ]\n    }\n  ]\n};","import {select} from \"d3-selection\";\n\nfunction attrsFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(selection, map) {\n  for (var name in map) selection.attr(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(selection, map, priority) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(selection, map, priority) {\n  for (var name in map) selection.style(name, map[name], priority);\n  return selection;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {select} from \"d3-selection\";\n\nfunction propertiesFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.property(name, x[name]);\n  });\n}\n\nfunction propertiesObject(selection, map) {\n  for (var name in map) selection.property(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? propertiesFunction : propertiesObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(transition, map) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(transition, map) {\n  for (var name in map) transition.attr(name, map[name]);\n  return transition;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(transition, map, priority) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(transition, map, priority) {\n  for (var name in map) transition.style(name, map[name], priority);\n  return transition;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {selection} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\nimport selection_attrs from \"./src/selection/attrs\";\nimport selection_styles from \"./src/selection/styles\";\nimport selection_properties from \"./src/selection/properties\";\nimport transition_attrs from \"./src/transition/attrs\";\nimport transition_styles from \"./src/transition/styles\";\n\nselection.prototype.attrs = selection_attrs;\nselection.prototype.styles = selection_styles;\nselection.prototype.properties = selection_properties;\ntransition.prototype.attrs = transition_attrs;\ntransition.prototype.styles = transition_styles;\n"],"sourceRoot":""}